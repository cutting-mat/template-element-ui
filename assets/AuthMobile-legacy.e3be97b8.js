!function(){var e=document.createElement("style");e.innerHTML="",document.head.appendChild(e),System.register(["./index-legacy.3f529ad1.js","./ui-legacy.748ef965.js"],(function(e){"use strict";var t;return{setters:[function(e){t=e.n},function(){}],execute:function(){var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"form",staticClass:"auth_mobile",attrs:{model:e.formData,rules:e.rules,"label-position":"left"},nativeOn:{submit:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[e.anonymousMobile?n("el-form-item",[e._v("绑定手机："+e._s(e.anonymousMobile))]):e._e(),n("el-form-item",{attrs:{prop:"inputMobile"}},[n("el-input",{attrs:{placeholder:"请输入绑定手机","prefix-icon":"el-icon-message"},model:{value:e.formData.inputMobile,callback:function(t){e.$set(e.formData,"inputMobile",t)},expression:"formData.inputMobile"}})],1),n("el-form-item",{attrs:{prop:"userInput"}},[n("InputSMS",{ref:"InputSMS",attrs:{type:e.command,mobile:e.formData.inputMobile},on:{click:e.sendValidCode}})],1),n("el-form-item",[n("el-button",{staticStyle:{width:"100%"},attrs:{"native-type":"submit",type:"primary"}},[e._v(" 立即验证 ")])],1)],1)},i=[],r={},o=t({props:{command:{type:String,required:!1}},data:function(){var e=this;return{formData:{id:null,inputMobile:null},rules:{inputMobile:[{validator:function(t,n,i){if(n){if(e.userMobile&&e.userMobile!==n)return i(new Error("手机号不正确"));i()}else i(new Error("请输入绑定手机"))},trigger:[]}],userInput:[{validator:function(){return new Promise((function(t,n){e.$refs.InputSMS.valid().then((function(n){e.resData=n,t()})).catch((function(e){n(e)}))}))},trigger:[]}]},resData:null}},computed:{userMobile:function(){return String(this.$store.user.mobile||"")},anonymousMobile:function(){if(this.userMobile){var e=this.userMobile.split(""),t=e.map((function(t,n){return n<3||e.length-n<3?t:"*"})).join("");return"".concat(t)}return""}},methods:{sendValidCode:function(){var e=this;this.$refs.form.validateField("inputMobile",(function(t){t||e.$refs.InputSMS.send()}))},handleSubmit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.$emit("success",e.resData)}))}}},n,i,!1,u,"6861eb39",null,null);function u(e){for(var t in r)this[t]=r[t]}e("default",function(){return o.exports}())}}}))}();
